import{f as a,l as s}from"./bookmarksPages.0494db8e.js";console.log("\u2705 Extension Helper \u52A0\u8F7D\u6210\u529F");const n=e=>{console.log("PING \u6536\u5230\uFF0C\u56DE\u590D PONG"),window.parent.postMessage({type:"PONG"},"*")},t=async e=>{console.log("\u5F00\u59CB\u83B7\u53D6\u5206\u7EC4\u6570\u636E...");try{const o=await a();console.log("helper \u5DF2\u8FD4\u56DE\u5206\u7EC4\u6570\u636E",o),window.parent.postMessage({type:"GROUPS_RESPONSE",payload:o},"*")}catch(o){console.error("\u83B7\u53D6\u5206\u7EC4\u5931\u8D25:",o),window.parent.postMessage({type:"GROUPS_RESPONSE",payload:[]},"*")}},r=async(e,o)=>{console.log("\u51C6\u5907\u4FDD\u5B58\u4E66\u7B7E:",o);try{const u=s(o);window.parent.postMessage({type:"SAVE_RESULT",payload:{ok:!0}},"*")}catch(u){console.error("\u4FDD\u5B58\u4E66\u7B7E\u5931\u8D25:",u),window.parent.postMessage({type:"SAVE_RESULT",payload:{ok:!1,error:u.message}},"*")}};window.addEventListener("message",async e=>{if(console.log("\u6536\u5230\u6D88\u606F11:",e.data),e.origin!==window.location.origin)return;const{type:o,payload:u}=e.data||{};switch(console.log("\u6D88\u606F type:",o),o){case"PING":n();break;case"LIST_GROUPS":await t();break;case"SAVE_BOOKMARK":await r(e,u);break;default:console.warn("\u672A\u77E5\u6D88\u606F\u7C7B\u578B:",o)}});
